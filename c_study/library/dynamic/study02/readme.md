# 动态库的构造和析构函数机制

在Linux中动态库加载和卸载都会有初始化函数以及卸载函数来完成库的初始化以及资源回收，这些初始化函数主要包含两个部分：动态库的构造和析构函数机制、动态库的全局变量初始化工作。

在加载和卸载动态库时，可以编写一些函数，处理一些相应的事物，称这些函数为动态库的构造和析构函数，其代码格式如下：
void __attribute__ ((constructor)) my_init(void);  // my_init为自定义的构造函数名
void __attribute__ ((destructor)) my_fini(void);  //my_fini为自定义的析构函数名

在编译共享库时，不能使用"-nonstartfiles"或"-nostdlib"选项，否则构建与析构函数将不能正常执行（除非你采取一定措施）。
注意，构造函数的参数必须为空，返回值也必须为空。